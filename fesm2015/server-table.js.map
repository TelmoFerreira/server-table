{"version":3,"file":"server-table.js","sources":["ng://server-table/lib/server-table.service.ts","ng://server-table/lib/toaster/toaster.component.ts","ng://server-table/lib/server-table.component.ts","ng://server-table/lib/server-table.module.ts","ng://server-table/public-api.ts","ng://server-table/server-table.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServerTableService {\n\n  constructor() { }\n}\n","import { Component, Input, Output, EventEmitter } \tfrom '@angular/core';\n@Component({\n\tselector: 'lib-toaster',\n\tstyleUrls: ['./toaster.component.scss'],\n\ttemplateUrl: './toaster.component.html',\n})\nexport class ToasterComponent{\n\t@Output() onToasterDie = new EventEmitter<string>();\n\t@Input() message: string;\n\t@Input() color: string;\n\t@Input() delay: number;\n\tpublic progress \t= 100;\n\tpublic finished \t= false;\n\t\n\tngOnInit(): void {\n\t\tthis.startCountDown();\n\t}\n\n\n\tpublic identity;\n\tstartCountDown(){\n\t\tthis.identity = setInterval(()=>{\n\t\t\tif ( this.progress <= 0 ) { \n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tif( !this.finished ){\n\t\t\t\t\t\tthis.onToasterDie.emit('timeout');\n\t\t\t\t\t}\n\t\t\t\t}, 1000);\n\t\t\t\tclearInterval(this.identity); \n\t\t\t}\n\t\t\tthis.progress -- ;\n\t\t}, ( this.delay / 100 ) );\n\t}\n\t\n\t\n\tonCancelClick(){\n\t\tclearInterval(this.identity); \n\t\tthis.finished = true;\n\t\tthis.onToasterDie.emit('stop');\n\t}\n\t\n\t  \n\n\n}\n","// https://ng-bootstrap.github.io/#/getting-started\nimport { Component, Input, Renderer2, ComponentRef, ViewChild, ElementRef  } \t\tfrom '@angular/core';\nimport { HttpClient,HttpParams } \tfrom '@angular/common/http';\nimport { ToasterComponent } \t\tfrom './toaster/toaster.component';\n\n \nimport { Overlay  } \t\t\t\tfrom '@angular/cdk/overlay';\nimport { ComponentPortal, CdkPortalOutletAttachedRef, Portal, TemplatePortal, CdkPortalOutlet} from '@angular/cdk/portal';\n\n\n@Component({ \n\tselector: 'serverTable',\n\ttemplateUrl: './server-table.component.html',  \n\tstyleUrls: ['./server-table.component.scss']\n})\nexport class ServerTableComponent {\n\t@Input() settings;   \n\t@ViewChild('middleCol', {static: true}) middleCol: ElementRef;\n\t\n\tpublic columns \t\t\t= [];\n\tpublic actions \t\t\t= [];\n\tpublic service \t\t\t= '';\n\tpublic dataToserver\t\t= {};\n\tpublic mainData \t\t= [];\n\tpublic paginacao \t\t= [];\n\tpublic currentPage\t\t= 1;\n\tpublic pageSize \t\t= 10;\n\tpublic collectionSize \t= 0;\n\tpublic filtro \t\t\t= {};\n\tpublic beforeRender;\n\tpublic paginationCfg\t= {};\n\tpublic searchInput\t\t= '';\n\n\tconstructor( private httpClient: HttpClient, public overlay: Overlay, private renderer: Renderer2 ) { \n\t\tthis.filtro['offset'] \t\t= 0;\n\t\tthis.paginationCfg['align'] = 'end';\n\t}\n\t\n\t\n\t\n\tonPageSizeChange(ev){\n\t\tthis.currentPage \t= 1;\n\t\tthis.pageSize \t\t= event.target['value'];\n\t\tthis.getData();\n\t}\n\t\n\tpublic keyupDelay;\n\tonTypeSearchInput(){\n\t\tif( this.keyupDelay ){\n\t\t\tclearTimeout(this.keyupDelay);\n\t\t}\n\t\tthis.keyupDelay = setTimeout(()=>{ \n\t\t\tthis.currentPage \t\t= 1;\n\t\t\tthis.filtro['search']\t= this.searchInput;\n\t\t\tthis.filtro['offset'] \t= 0;\n\t\t\tthis.getData();\n\t\t\tthis.keyupDelay = undefined;\n\t\t}, 500);\n\t}\n\t\n   \n\tgetData(){\n\t\tlet url \t\t= this.service; \n\t\tthis.mainData  \t= [];\n\t\tthis.filtro['limit'] \t= this.pageSize;\n\t\tfor( let i=0; i< this.columns.length; i++ ){\n\t\t\tif( this.columns[i].order != undefined && this.columns[i].order != '' ){\n\t\t\t\tthis.filtro['order'] = this.columns[i].key;\n\t\t\t\tthis.filtro['dir'] \t= this.columns[i].order;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.filtro  = { ...this.filtro, ...this.dataToserver };\n\t\t\n\t\t// console.log( this.filtro );\n\t\t\n\t\t\n\t\tlet par  = new HttpParams({ fromObject: this.filtro });\n\t\turl += this.service.includes(\"?\") ? ('&'+par) : ('?'+par); \n\t\tthis.httpClient.get( url ).subscribe( res => {\n\t\t\tif( res['data'] != undefined && Array.isArray(res['data']) && res['data'][0] != false ){\n\t\t\t\tres['data'].forEach( (val,index) =>{\n\t\t\t\t\tval['actions'] = JSON.parse(JSON.stringify(this.actions));\n\t\t\t\t\t// val['actions'] = [{},{},{},{},{},{}];\n\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tlet d = this.applyChangesBeforeRender( val );\n\t\t\t\t\td['hide'] = ()=>{\n\t\t\t\t\t\td['hideRow'] = true;\n\t\t\t\t\t};\n\t\t\t\t\td['show'] = ()=>{\n\t\t\t\t\t\td['hideRow'] = false;\n\t\t\t\t\t};\n\t\t\t\t\tthis.mainData.push( d );\t\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif( res['COUNT'] == undefined ){\n\t\t\t\t\tres['COUNT'] = 0;\n\t\t\t\t\tconsole.error(\"SERVER-TABLE: Pagination needs total results {data:[],COUNT:number}\");\n\t\t\t\t}\n\t\t\t\tthis.collectionSize = ( res['COUNT'] );\n\t\t\t\tthis.paginacao = this.paginator( );\n\t\t\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tapplyChangesBeforeRender( data ){\n\t\tif( this.beforeRender != undefined && data ){\n\t\t\treturn this.beforeRender( data );\t\t\n\t\t}else return data;\n\t}\n\t\n\t\n\t\n\t\n\t\n\t\n\tchangeColumnOrder(i){\n\t\tif( this.countDisabled == 0 ){\n\t\t\tif( this.columns[i].order != undefined && this.columns[i].order != '' ){\n\t\t\t\tthis.columns[i].order = (this.columns[i].order == 'asc' ) ? 'desc' : 'asc';\n\t\t\t}else this.columns[i].order = 'asc';\n\t\t\t//desmarca os outros;\n\t\t\tfor( let index=0; index < this.columns.length; index++ ){\n\t\t\t\tif( this.columns[index].order != undefined && this.columns[index].order != '' ){\n\t\t\t\t\tif( index != i ){\n\t\t\t\t\t\tthis.columns[index].order = undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}   \n\t\t\tthis.currentPage \t\t= 1;\n\t\t\tthis.getData();\n\t\t} \n\t}\n\n\n\tngOnChanges( changes ) {\n\t\tif( changes.settings ){\n\t\t\tthis.columns \t\t= changes.settings.currentValue.columns;\n\t\t\tthis.actions \t\t= (changes.settings.currentValue.actions ||[]); \n\t\t\tthis.service \t\t= changes.settings.currentValue.service;\n\t\t\tthis.beforeRender \t= changes.settings.currentValue.beforeRender;\n\t\t\tthis.paginationCfg \t= changes.settings.currentValue.pagination;\n\t\t\t//Primeiro recebe os dados default;\n\t\t\tthis.dataToserver \t= changes.settings.currentValue.params();\n\t\t\t//Depois subsitui a função inicial pela seguinte;\n\t\t\tchanges.settings.currentValue.params = ( data )=>{\n\t\t\t\tthis.dataToserver \t= data;\n\t\t\t\tthis.getData();\n\t\t\t}\n\t\t\tthis.getData();\n\t\t}\n\t\t\n\t\t\n\t\t// update\n\t}\n\n\n\n\n\tonPaginationClick( pag ){\n\t\tif( this.countDisabled == 0 ){\n\t\t\tlet numPaginas = Math.ceil( this.collectionSize / this.pageSize );\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tif( pag == 'first' ){\n\t\t\t\tthis.currentPage = 1;\n\t\t\t}else if( pag == 'last' ){\n\t\t\t\tthis.currentPage = numPaginas;\n\t\t\t}else if( pag == 'backwards' ){\n\t\t\t\tthis.currentPage = this.currentPage <= 1 ? 1 : (this.currentPage -1);\n\t\t\t}else if( pag == 'foward' ){\n\t\t\t\t\n\t\t\t\tthis.currentPage = this.currentPage >= numPaginas ? numPaginas : (this.currentPage +1);\n\t\t\t\t\n\t\t\t\t\n\t\t\t}else if( pag != '...' ){\n\t\t\t\tthis.currentPage = pag;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t// console.log( 'currentPage',this.currentPage );\n\t\t\t// console.log( 'pageSize',this.pageSize );\n\t\t\t\n\t\t\tthis.filtro['offset'] = String( (this.currentPage -1) * this.pageSize);\n\t\t\tthis.getData();\n\t\t}\n\t}\n\n\n\n\tpaginator() {\n\t\t//https://gist.github.com/kottenator/9d936eb3e4e3c3e02598\n\t\tlet numPaginas = Math.ceil( this.collectionSize / this.pageSize );\n\t\tlet current = this.currentPage,\n\t\t\tlast = numPaginas,\n\t\t\tdelta = 2,\n\t\t\tleft = current - delta,\n\t\t\tright = current + delta + 1,\n\t\t\trange = [],\n\t\t\trangeWithDots = [],\n\t\t\tl;\n\t\tfor (let i = 1; i <= last; i++) {\n\t\t\tif (i == 1 || i == last || i >= left && i < right) {\n\t\t\t\trange.push(i);\n\t\t\t}\n\t\t}\n\t\tfor (let i of range) {\n\t\t\tif (l) {\n\t\t\t\tif (i - l === 2) {\n\t\t\t\t\trangeWithDots.push(l + 1);\n\t\t\t\t} else if (i - l !== 1) {\n\t\t\t\t\trangeWithDots.push('...');\n\t\t\t\t}\n\t\t\t}\n\t\t\trangeWithDots.push(i);\n\t\t\tl = i;\n\t\t}\n\t\t\n\t\t// console.log( rangeWithDots ); \n\t\t\n\t\t\n\t\treturn rangeWithDots;\n\t}\n\n\n\n\n\n\n\tpublic countDisabled = 0;\n\tonClickButtonOpcoes(action,data, action2 ){\n\t\t\n\t\t// console.log('sssss');\n\t\t\n\t\tdata['timestamp'] = new Date().getTime();\n\t\tif( action2['disabled'] == undefined || action2['disabled'] == false ){\n\t\t\tif( action.delay != undefined ){\n\t\t\t\tif( !data['disabled'] ){\n\t\t\t\t\tdata['disabled'] = true;\n\t\t\t\t\tthis.countDisabled ++;\n\t\t\t\t\tconst positionStrategy = this.overlay.position().global().bottom( '10px' ).centerHorizontally();\n\t\t\t\t\tlet overlayRef = this.overlay.create({\n\t\t\t\t\t\tpositionStrategy: positionStrategy,  \n\t\t\t\t\t\twidth: '400px',\n\t\t\t\t\t});\n\t\t\t\t\tconst toaster = new ComponentPortal(ToasterComponent);\n\t\t\t\t\tconst compRef: ComponentRef<ToasterComponent> = overlayRef.attach(toaster);\n\n\t\t\t\t\tcompRef.instance.message \t= (action.delay.msg || 'empty');\n\t\t\t\t\tcompRef.instance.color \t\t= (action.delay.color || 'primary');\n\t\t\t\t\tcompRef.instance.delay \t\t= (action.delay.time || 3000);\n\t\t\t\t\t\n\t\t\t\t\tcompRef.instance.onToasterDie.subscribe(r => {\n\t\t\t\t\t\tif( action.callback != undefined ){\n\t\t\t\t\t\t\taction.callback({'type':r,button:action2 , data});\n\t\t\t\t\t\t}\n\t\t\t\t\t\toverlayRef.dispose();\n\t\t\t\t\t\tdelete data['disabled'];\n\t\t\t\t\t\tthis.countDisabled --;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\t\t\n\t\t\t\tif( action.callback != undefined ){\n\t\t\t\t\taction.callback({'type':'click',button:action2,data});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}  \n\t\n \n\n\tngOnInit() {\n\t\tif( this.settings['moveElementToMiddle'] != undefined && this.settings['moveElementToMiddle'] != '' ){\n\t\t\tlet elementToPush = document.getElementById(this.settings['moveElementToMiddle']);\n\t\t\tif( elementToPush != undefined ){\n\t\t\t\tthis.middleCol.nativeElement.appendChild(elementToPush);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// ngOnDestroy() {\n      \n    // }\n\n}\n","import { NgModule } \t\t\tfrom '@angular/core';\nimport { CommonModule } \t\tfrom '@angular/common';\nimport { ServerTableComponent } from './server-table.component';\nimport { FormsModule } \t\t\tfrom '@angular/forms';\nimport { OverlayModule } \t\tfrom '@angular/cdk/overlay';\nimport { ToasterComponent } \tfrom './toaster/toaster.component';\n@NgModule({\n\tdeclarations: [ServerTableComponent, ToasterComponent],\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tOverlayModule\n\t],\n\texports: [\n\t\tServerTableComponent,\n\t] \n})\nexport class ServerTableModule { }\n","/*\n * Public API Surface of server-table\n */\n\nexport * from './lib/server-table.service';\nexport * from './lib/server-table.component';\nexport * from './lib/server-table.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {ToasterComponent as ɵa} from './lib/toaster/toaster.component';"],"names":[],"mappings":"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"}